<h1>Miscellanous Linux Commands</h1>
 

<h3>Secure Copy</h3>
 
This command can be used to securely copy over 2 remote servers. 
ex:
  - `scp [file-name] user@ip-addr:/path/in/remote/server` : will copy file from current server to remote server securely
  - `scp -C [file-name] user@ip-addr:/path/in/remote/server` : will compress file before sending to remote server securely
  - `scp -vp [fie-name] user@ip-addr:/path/in/remote/server` : will run in verbose and perserve metadata of file when copying to remote server
  - `scp -r [directory] user@ip-addr:/path/in/remote/server` : will copy directory securely to remote server
  - `scp -l n [file-name] user@ip-addr:/path/in/remote/server` : will copy directory securely to remote server, will limiting bandwidth to nKD/s

<h3>PS command</h3>
 
This command can be used to list process running on your system
ex: 
  - `ps` : lists all process currently running on your sessions
  - `ps -A` : lists all process running on the server
  - `ps -ef`: will list detailed information of that process listing
    - `ps -e f`: will display all processes in a tree like format
  - `ps -fU [user]` : will list all processes generated by a particular user
    - `ps -fu [UID (User ID) ]` : list all processes generated by a particular UID
  - `ps -u` : lists a more detailed output of all processes
  - `ps -x`: lists all processes not associated with the controlling terminal 
  - `ps -aux --sort=-pcpu,+pmem` : will sort by cpu and mem
    - `ps -aux --sort=-pcpu,+pmem | head` : to sort first values
    * `--sort=` allows you to sort the output; `-pmem or -%mem` will sort the percent memory in descending order (from high to low); `+pmem or +%mem` will sort the percent memory in ascending order (from low to high)
    * `ps -ef --sort=-%mem | head`
  - `ps -eo pid,ppid,ni,cmd,%mem,%cpu | head`: will list all processes and ouput pid,ppid,ni(nice values: priority of a process from the highest of -20 to lowest of 20),cmd,%mem, and %cpu
    * `nice n [CMD]`: will run a command with a set priority
    * `sudo renice n -p [PID]`: will set a new priority for an exisiting PID
    * `watch -n [seconds] 'ps -aux --sort=-pcpu'`: will refresh cmd every second to see changes in processes
* Ex:
 ```console
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root           1  0.0  1.6 170576 16400 ?        Ss   Apr22   1:22 /usr/lib/systemd/systemd --switched-root --system --deserialize 32
root           2  0.0  0.0      0     0 ?        S    Apr22   0:00 [kthreadd]
root           3  0.0  0.0      0     0 ?        I<   Apr22   0:00 [rcu_gp]
root           4  0.0  0.0      0     0 ?        I<   Apr22   0:00 [rcu_par_gp]
root           5  0.0  0.0      0     0 ?        I<   Apr22   0:00 [slub_flushwq]
root           6  0.0  0.0      0     0 ?        I<   Apr22   0:00 [netns]
root           8  0.0  0.0      0     0 ?        I<   Apr22   0:00 [kworker/0:0H-events_highpri]
root          10  0.0  0.0      0     0 ?        I<   Apr22   0:00 [mm_percpu_wq]
root          11  0.0  0.0      0     0 ?        I    Apr22   0:00 [rcu_tasks_kthread]
```
 * USER: user which initiated the process
 * PID: process ID
 * %CPU: cpu percentage process uses
 * %MEM: mem percentage process uses
 * VSZ: virtual memory size; amount of total virtual memory(RAM) currently being used by a process; measure in KB; is a space in the hard disk that is used to supplement the RAM (combination of RAM and swap space). 
 * RSS: Resident Set Size; represents the portion of the process's memory that is held in RAM; measure in KB
 * TTY: Teletype; controlling terminal associated with the processs; `"?"` means it has no controlling terminal, it can have a device name (which indicates the terminal device) `"/dev/pts/0"` and also `"?"` indicating the process has no controlling terminal (running bg)
 * TIME: indicates total CPU time used by the process
 * STAT: indicates the status of the process 
   - R: running
    - R+: process is running and is a fg process that has been resumed from a stopped state
   - S: sleeping
    - Sl: sleeping but waiting for resources, such as I/O operations to complete
    - SN: waiting for parent process to create a child process
   - D: waiting
   - Z: zombie
   - T: stopped
   - W: paging (process is swapping pages of mem between RAM and disk)
   - X: dead
   - s: session leader
   - I: waiting for (I/O) operations to complete
    - i: idle and not waiting for I/O operations
    - I<: idle with pageable mem swapped out to disk, memory has moved from RAM to disk, to free up more RAM for other process
