OpenSSH Server & Client Configuration

OpenSSH forms a server connection between the Remote server and the SSH client (default port: 22)
Server has a public key (Specific User has the key)
Client has the private key 

What happens during this ssh connection?
  1. Client sends a connection request to the server on port 22 (default) and sends its public key as part of the authentication process
  2. Server responds to the request and generates a challengne message and sends it to the client (the public key is sent to the ssh client)
  3. The client signs the message with its private key and sends it back to the server (the client generates a hash of the public key using a cryptographic has function, which can be a sha-256 or md5, and this hash becomes the fingerprint. (you can verify if this hash matches what you expect, user can then choose to save the server's public key to their known_hosts file for future connection).
  4. The server verifies the signature with its own public key and if it is valid, the connection is established
This is done via a cryptographic authentication, a handshake is down. The connection is encrypted and the crypted keys will verfied between the public and private keys
If they match, connection is continued, and if the do not match, then the server will immediately terminate the connection for failed authentication.  

What is a fingerprint?

The fingerprint of a host key is the hash of the ssh host key of a remote server itself, which is a short, human-readable string that can be used to verify the authenticitiy of the host key. 

A fingerprint is based on the host' public key, used to verify the host you are connecting to.
If the fingerprint changes, the machine you are connecting to has changed their public key, or you could be connecting to a different machine with the same domain/ip.
When you answer yes, the fingerprint will be stored within the .ssh/known_hosts. Once this key is stored in the known_hosts file, then the client system can connect to the server automatically, without needing any approvals because the host key will authenticate the connection. 

What is a hash?
A mathematical function that takes input data of arbitrary size and prodcues a fixed-size ouput, which is usually a sequence of characters or digits. Also known as a "hash value" or "message digest".

Hash functions are deterministics, meaning if given the same imput data, they will always produce the same output data (similar to a base64 encode). Which makes its good for checking and authentication purposes (you can verify its the right key because the hash value will always be the same). 














